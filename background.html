<html>
<head>
<script>
	
function SyntaxticSettings() {

	var _theme = localStorage["syntaxtic.settings.theme"];
	var _defaultTheme = "shThemeMidnight.css";
	
	this.__defineGetter__("theme", function(){
		return localStorage["syntaxtic.settings.theme"] || (_theme || _defaultTheme) ;
    });
    this.__defineSetter__("theme", function(val){
		_theme = val;
		localStorage["syntaxtic.settings.theme"] = val;
    });
}

var syntaxtic = {
	settings : new SyntaxticSettings()
};	
	
chrome.extension.onRequest.addListener(function(request, sender, sendResponse) {
//	if (sender.id !=== 'cgjalgdhmbpaacnnejmodfinclbdgaci')
//		return;
		
    if (request.method == "getSettings")
      sendResponse({settings: syntaxtic.settings});
    else
      sendResponse({}); // snub them.
});

</script>
</head>
<body>
</body>
</html>